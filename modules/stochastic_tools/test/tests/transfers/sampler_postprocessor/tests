[Tests]
  issues = '#8065'
  design = 'SamplerPostprocessorTransfer.md'

  [sobol_from_multiapp]
    type = CSVDiff
    input = master.i
    csvdiff = 'master_out_storage_0001.csv master_out_storage_0002.csv master_out_storage_0003.csv '
              'master_out_storage_0004.csv master_out_storage_0005.csv'

    requirement = "The system shall support the ability to transfer a single value from each "
                  "sub-application for a set of stochastic data."
  []

  [invalid_sub_pp_name]
    type = RunException
    input = master.i
    cli_args = Transfers/data/from_postprocessor=wrong
    expect_err = "Unknown postprocesssor name 'wrong' on sub-application 'sub'"

    requirement = "The system shall error if the supplied name is invalid when attempting to
        "
                  "          transfer a single value from a sub-application."

  []

  [solve_not_converge]
    requirement = "When sub-application solve does not converge, the system shall either "
    
    [abort]
      type = RunException
      input = cartesian_diverge.i
      cli_args = 'MultiApps/sub/ignore_solve_not_converge=false'
      expect_err = "Solve failed and timestep already at or below dtmin, cannot continue!"

      detail = "abort run, "
    []
    [last_computed]
      type = CSVDiff
      input = cartesian_diverge.i
      csvdiff = 'cartesian_diverge_out_storage_0001.csv'

      detail = "transfer last computed postprocessor value, "
    []
    [skip]
      type = CSVDiff
      input = cartesian_diverge.i
      cli_args = 'Transfers/data/skip_solve_not_converge_value=true
                  Outputs/file_base=cartesian_diverge_skip'
      csvdiff = 'cartesian_diverge_skip_storage_0001.csv'

      detail = "skip value transfer, "
    []
    [user_value]
      type = CSVDiff
      input = cartesian_diverge.i
      cli_args = 'Transfers/data/solve_not_converge_value=-1e16
                  Outputs/file_base=cartesian_diverge_value'
      csvdiff = 'cartesian_diverge_value_storage_0001.csv'

      detail = "or transfer user defined value."
    []
  []
[]
